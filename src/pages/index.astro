---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

// Components
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import GithubGraph from "@/components/GithubGraph.astro";
import Analytics from '@vercel/analytics/astro';

// Constants
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

// Fetch and sort all blog posts by publication date
const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

// Icons
import { PiGithubLogo } from "react-icons/pi";
import { PiLinkedinLogo } from "react-icons/pi";
import { PiArrowDown } from "react-icons/pi";
import { PiAtom } from "react-icons/pi";

import { AiOutlinePython } from "react-icons/ai";
---

<!doctype html>
<html lang="en" class="dark bg-stone-950 scroll-smooth">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
     <Analytics />
  </head>
  <body class="font-sans leading-relaxed antialiased">
    <Header />
    <main transition:animate="fade">
      <!-- header -->
      <section class="flex flex-col text-white font-mono gap-12 mt-20">
        <!-- Text block (span 2 grid) -->
        <h1
          class="text-3xl tracking-tight font-extrabold font-mono text-de-york-400"
        >
          Ferdian N. Fariza
        </h1>
        <p
          class="text-base text-zinc-400 font-mono font-medium text-pretty mr-20 md:mr-30"
        >
          Software Engineer based in Indonesia, Jawa Tengah.
          <br />
          Founder @
          <a
            href="https://oxidraw.com/landingpage"
            class="text-de-york-400 font-extrabold underline underline-offset-4 decoration-dotted hover:bg-de-york-800 hover:no-underline"
            >Oxidraw</a
          >
          - app that lets you draw, taking notes, ask ai to do cool stuff. Currently
          maintaining and managing Oxidraw as a company.
        </p>

        <!-- Links -->
        <div
          class="flex flex-col md:flex-row gap-6 text-base font-mono font-medium"
        >
          <a
            href="https://github.com/ferdianfariza"
            class="flex gap-2 items-center"
          >
            <PiGithubLogo size={18} color="#FFFFFF" />
            GitHub
          </a>
          <div class="w-px my-1 bg-zinc-600 hidden md:inline"></div>

          <a
            href="https://www.linkedin.com/in/ferdian-nur-fariza/"
            class="flex gap-2 items-center hover:text-de-york-400"
          >
            <PiLinkedinLogo size={18} />
            Let's Connect
          </a>

          <div class="w-px my-1 bg-zinc-600 hidden md:inline"></div>

          <a
            href="https://github.com/ferdianfariza"
            class="flex gap-2 items-center text-de-york-400 hover:text-de-york-400"
          >
            Detailed profile
            <PiArrowDown size={15} />
          </a>
        </div>

        <!-- Company -->
        <div
          class="flex flex-col md:flex-row gap-6 text-base font-mono font-medium"
        >
          <a
            href="https://github.com/ferdianfariza"
            class="flex gap-2 items-center"
          >
            <PiGithubLogo size={18} color="#FFFFFF" />
            Oxidraw
          </a>

          /

          <a
            href="https://github.com/ferdianfariza"
            class="flex gap-2 items-center hover:text-de-york-400"
          >
            <PiLinkedinLogo size={18} />
            Sonarkode
          </a>
        </div>
      </section>

      <!-- Company Section -->
      <div class="flex flex-col gap-4 mt-20">
        <!-- Section Header -->
        <div class="flex justify-between items-center">
          <span class="text-zinc-400 text-base font-mono font-semibold"
            >projects</span
          >
          <a
            href="/projects"
            class="text-de-york-400 text-sm font-mono hover:underline underline-offset-4"
            >view all</a
          >
        </div>

        <!-- Company Cards -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
          <!-- Oxidraw Card -->
          <a
            href="/projects/larger-dataset-copy-2/"
            class="group flex border border-zinc-800 rounded-xl overflow-hidden bg-zinc-900 transition-colors min-h-48 sm:min-h-56"
          >
            <!-- Left Content -->
            <div class="flex flex-col p-5 sm:p-7 gap-4 flex-1 justify-between">
              <!-- Icon -->
              <PiGithubLogo size={30} color="#FFFFFF" />
              <!-- Text -->
              <div class="flex flex-col gap-1">
                <p class="text-white font-mono font-bold text-base sm:text-lg">
                  Oxidraw
                </p>
                <p
                  class="text-zinc-500 font-mono text-xs sm:text-sm leading-relaxed"
                >
                  Infinity canvas and Note
                </p>
              </div>
            </div>
            <!-- Right Preview -->
            <div
              class="w-24 sm:w-36 md:w-56 bg-zinc-800 rounded-tl-lg mt-7 group-hover:bg-zinc-700 transition-colors"
            >
            </div>
          </a>
          <!-- Oxidraw Card -->
          <a
            href="/projects/larger-dataset-copy-2/"
            class="group flex border border-zinc-800 rounded-xl overflow-hidden bg-zinc-900 transition-colors min-h-48 sm:min-h-56"
          >
            <!-- Left Content -->
            <div class="flex flex-col p-5 sm:p-7 gap-4 flex-1 justify-between">
              <!-- Icon -->
              <PiGithubLogo size={30} color="#FFFFFF" />
              <!-- Text -->
              <div class="flex flex-col gap-1">
                <p class="text-white font-mono font-bold text-base sm:text-lg">
                  Oxidraw
                </p>
                <p
                  class="text-zinc-500 font-mono text-xs sm:text-sm leading-relaxed"
                >
                  Infinity canvas and Note
                </p>
              </div>
            </div>
            <!-- Right Preview -->
            <div
              class="w-24 sm:w-36 md:w-56 bg-zinc-800 rounded-tl-lg mt-7 group-hover:bg-zinc-700 transition-colors"
            >
            </div>
          </a>
        </div>
      </div>
      <GithubGraph />
      <div class="flex flex-col gap-6 mt-20">
        <p
          class="inline text-base text-zinc-400 font-mono font-medium text-pretty"
        >
          My work focuses on data engineering,
          backend systems, and building applications primarily with <span
            class="inline-flex items-center align-middle"
            ><AiOutlinePython size={18} color="#3776AB" /></span
          > Python and <span class="inline-flex items-center align-middle"
            ><PiAtom size={18} color="#61DAFB" /></span
          > React.
        </p>
        <p class="text-base text-zinc-400 font-mono font-medium text-pretty">
          I maintain and operate several web-based services, one of which
          is oxidraw.com
        </p>
        <p class="text-base text-zinc-400 font-mono font-medium text-pretty">
          Outside of development, i love mechanical keyboards, and hands-on
          hardware tinkering.
        </p>
        <p
          class="text-base text-zinc-400 font-mono font-medium text-pretty mt-10"
        >
          Best,
        </p>
        <p
          class="text-base text-de-york-400 underline font-mono font-medium text-pretty"
        >
          ferdianfariza@gmail.com
        </p>
      </div>
    </main>

    <!-- <section>
      <ul class="grid grid-cols-1 md:grid-cols-3 list-none p-0 m-0 gap-0.5">
        {
          posts.map((post) => (
            <li class="relative w-full overflow-hidden group">
              <a href={`/projects/${post.id}/`} class="block w-full h-75">
                {/* Post Image */}
                {post.data.heroImage && (
                  <Image
                    width={720}
                    height={550}
                    src={post.data.heroImage}
                    alt={post.data.title}
                    class="w-full h-full object-cover transform transition-transform duration-200 rounded-lg group-hover:scale-105 "
                  />
                )}
                {/* Overlay */}
                <div class="absolute bottom-0 left-0 right-0 p-4 mr-30">
                  <h4 class="m-0 text-xl font-extrabold font-sans leading-tight text-white mb-2 text-shadow-sm">
                    {post.data.title}
                  </h4>
                  <h4 class="m-0 text-sm font-semibold font-sans text-white/70 text-shadow-sm">
                    {post.data.description}
                  </h4>
                </div>
              </a>
            </li>
          ))
        }
      </ul>
    </section> -->
    <footer>
      <Footer />
    </footer>
  </body>
</html>
